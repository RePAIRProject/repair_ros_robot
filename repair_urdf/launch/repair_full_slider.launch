<launch>

    <!-- visualize the full RePair platform on RViz with sliders to test the d.o.f. -->
    
    <arg name="gui" default="true" />
    <arg name="rate" default="250.0"/>
    <arg name="is_sliding_wrist" default="true"/>
    <arg name="gen_coll" default="true"/>
    <arg name="load_sol" default="false"/>
    <arg name="use_updated_wrist" default="false"/>
    
    <param name="robot_description" command="xacro '$(find repair_urdf)/urdf/repair_full.urdf.xacro'
        is_sliding_wrist:=$(arg is_sliding_wrist)
        gen_coll:=$(arg gen_coll)
        load_sol:=$(arg load_sol)
        use_updated_wrist:=$(arg use_updated_wrist)"/>
        
    <param name="use_gui" value="$(arg gui)"/>

    <node name="joint_state_publisher" pkg="joint_state_publisher_gui" type="joint_state_publisher_gui">
        <param name="publish_default_efforts" value="True"/>
    </node>

    <!-- start robot state publisher -->
    <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher" output="screen">
        <param name="publish_frequency" type="double" value="$(arg rate)" />
    </node>
    
    <group if="$(arg gui)">
        <node type="rviz" name="rviz" pkg="rviz" args="-d $(find repair_urdf)/config/repair_full.rviz" />
    </group>
    
</launch>
